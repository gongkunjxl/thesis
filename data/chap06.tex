\chapter{总结与展望}
本文首先从实验室“多元化大数据高效能存储与处理”实际项目出发，发现在大数据存储与处理的容器云平台Paladin上多计算框架混合部署下其执行性能较低。Paladin的服务层是基于开源OpenShift Origin容器云平台构建，而OpenShift Origin的容器编排引擎是Kubernetes。接着对主流的容器编排引擎Kubernetes、Mesos以及Docker Swarm进行分析，尤其针对Kubernetes的调度流程和调度算法进行深入研究，发现其调度流程不够优化，并且调度算法在评分阶段仅考虑内存和CPU的空闲率平衡情况，导致其他维度资源利用率不足和负载不均衡，从而使集群效率低下。面对其调度方案不足，本文首先优化其调度流程，通过一个Hash表管理重复部署的容器应用，避免镜像重复下载，节约磁盘和网络资源。

针对Kubernetes容器调度算法不足，本文提出一个基于多维资源权重参数的调度方案MRWS，综合考虑集群中节点CPU、内存、磁盘、网络带宽和已部署Pod数量等因素，赋予每个影响调度因子一个权重值进行综合评分。权重参数根据容器应用对资源的需求进行建模，使用模糊层次分析法FAHP自动构建模糊成对比矩阵和判断矩阵，计算出满足一致性要求的权重参数作为待调度容器应用各维度资源的权重值。对于新提出的调度算法，在容器云仿真平台ContainerCloudSim上进行大规模调度仿真，并与Kubernetes、Random、FirstFIt调度算法在集群资源利用率和负载均衡度方面进行对比。最后在大数据存储与处的理容器云Paladin平台上实际开发调度方案，进行多计算框架混合部署实际调度性能测试。实验表明新的调度算法无论在单计算框架容器应用执行效率还是同时运行多计算框架容器应用执行效率方面都有较大的提升。

总体而言，本文主要围绕大数据存储与处理的容器云平台Paladin多计算框架混合部署与执行效率较低的场景做了以下几个方面工作:
\begin{enumerate}[(1)]
	\item 调研当前容器编排引擎集中式调度、两层调度和共享状态调度的典型架构，并以实际的例子分析其优点和不足。深入分析Kubernetes调度流程和调度缺点，对其调度流程进行优化并提出了一种新的综合考虑容器应用CPU、内存、磁盘、网络带宽以及已部署Pod等因素的调度方案MRWS。
	\item 针对调度方案MRWS中多维资源权重问题，使用模糊层次分析法自动建模和构建满足一致性要求的模糊成对比矩阵和判断矩阵，实现新的调度方案。
	\item 在容器云仿真平台ContainerCloudSim上针对新的调度方案进行大规模调度仿真，并与常见的Random、FirstFit以及Kubernetes默认的Default调度方案进行资源利用率和负载均衡度对比。
	\item 在Paladin容器云平台上开发数十种大数据处理框架，用户可以实现快速构建大数据处理环境和容器伸缩。接着开发新的调度方案MRWS，并在该平台上进行多计算框架混合部署与执行下对比几种调度算法的性能，实验表明新的调度方案极大提升了集群的服务性能，使得多计算框架容器云资源调度更实用，能够缩短多计算框架任务的执行时间。
\end{enumerate}

本文主要围绕提升大数据存储与处理容器云平台Paladin服务性能开展工作，容器资源调度是提升容器云集群的关键因素，要使一个集群更好的服务用户，在后续的研究工作中可以从以下几个方面进行:
\begin{enumerate}[1.]
	\item 数据亲和性调度。Paladin是一个集大数据存储与处理于一身的容器云平台，底层是一个分布式的文件系统，通过客户端网盘挂在形式实现数据访问，并提供web-console的大数据上传、下载、删除‘修改等管理操作。因此，在数据处理框架进行数据处理时，数据的位置对其性能存在重大影响，需要研究以数据为中心的调度方案，实现数据亲和性调度，将数据存储和处理容器尽可能调度到相同或近距离的节点，减少网络传输和磁盘I/O。
	\item 优先抢占式调度。在大数据批处理中有的任务无需及时处理，如Hadoop进行离线数据处理，有的需要进行及时快速地处理如流计算等。调度系统需要实现优先抢占式调度，在紧急任务模式下暂停优先级较低的任务，给予优先级高任务更多的计算资源。
	\item 容器迁移策略研究。多计算框架混合部署场景下资源的分配是静态的，有的用户在部署完计算框架后并不进行任务处理。根据这一特点可以实现集群资源超卖，在保证性能情况下实现经济利益最大化。一些不太活跃用户的容器可以迁移到性能较低的节点上，在用户使用时再迁回高性能的节点。
	\item 任务特征调度。根据积累数据中心的数据提取更多用户计算框架处理任务的特征，根据特征制定合适的调度方案，最大化的利用集群的资源。让集群调度更加智能，实现按需服务，提升用户的服务体验。
\end{enumerate}